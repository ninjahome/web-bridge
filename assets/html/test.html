<!DOCTYPE html>
<html lang="zh_cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binding Web3 Meta ID</title>
</head>

<body>
<script>
    function createDialogElement(imageSrc) {
        const dialog = document.createElement('div');
        dialog.id = 'custom-dialog';
        dialog.style.position = 'fixed';
        dialog.style.top = '0';
        dialog.style.left = '0';
        dialog.style.width = '100%';
        dialog.style.height = '100%';
        dialog.style.display = 'flex';
        dialog.style.justifyContent = 'center';
        dialog.style.alignItems = 'center';
        dialog.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';
        dialog.style.zIndex = '10000';
        dialog.innerHTML = `
        <div style="background: white; padding: 24px 32px; border-radius: 8px; text-align: center;">
             <img src="${imageSrc}" alt="dialog image" style="max-width: 100%; height: auto; margin-bottom: 2px">
            <p id="dialog-message" style="margin-top: 0; margin-bottom: 16px">Message</p>
            <div style="display: flex; flex-direction: row; justify-content: center">
                <button id="dialog-close" style="margin:0 8px; padding: 8px 42px; border-radius: 9999px; background-color: transparent; border: 1px solid rgb(221, 221, 222);font-size: 14px; color: #7E7F82">关闭</button>
                <button id="dialog-confirm" style="margin:0 8px; padding: 8px 42px; border-radius: 9999px; border: none;font-size: 14px; color: #ffffff; background-color: #4848D8">确定</button>
            </div>
        </div>
        `;
        return dialog;
    }

    function showDialog(type, msg, confirmCB, cancelCB) {
        let imageSrc;
        switch(type) {
            case "提示":
                imageSrc = "/assets/file/info-img.png";
                break;
            case "错误":
                imageSrc = "/assets/file/error-img.png";
                break;
            case "告警":
                imageSrc = "/assets/file/warning-img.png";
                break;
            // 可以添加更多状态

        }

        const dialog = createDialogElement(imageSrc);
        document.body.appendChild(dialog);
        const dialogMessage = document.getElementById('dialog-message');

        const dialogCloseButton = document.getElementById('dialog-close');
        const dialogConfirmButton = document.getElementById('dialog-confirm');

        dialogMessage.textContent = msg;

        dialogCloseButton.addEventListener('click', function () {
            document.body.removeChild(dialog);
            if (cancelCB) {
                cancelCB();
            }
        });

        if (confirmCB) {
            dialogConfirmButton.style.display = 'block';
            dialogConfirmButton.addEventListener('click', function () {
                document.body.removeChild(dialog);
                confirmCB();
            });
        } else {
            dialogConfirmButton.style.display = 'none';
        }
    }

    document.addEventListener("DOMContentLoaded", initPages);

    function initPages() {
        showDialog("错误", "参数不正确");
        //showDialog("提示", "无权进行此操作,您的余额太少,请充值", function (){
        //    console.log("确定");
        //});
        // showDialog("告警", "告警内容");
    }

</script>
</body>
</html>
