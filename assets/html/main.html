<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ninja User Info</title>
    <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js"></script>
    <script src="/assets/js/utils.js"></script>
    <script src="/assets/js/main_metamask.js"></script>
    <script src="/assets/js/main_nj.js"></script>
    <script src="/assets/js/main_twitter.js"></script>
    <style>
        .container {
            display: flex; /* 启用flex布局 */
            height: 100vh; /* 容器高度设置为视窗高度 */
        }

        .left-menu-area {
            flex: 1; /* 左边菜单区域占据剩余空间的一部分 */
            background-color: #f4f4f4; /* 背景色，可根据需要调整 */
            padding: 10px; /* 内边距 */
        }

        .middle-content-area {
            flex: 3; /* 中间主要内容区域占据剩余空间的两部分 */
            background-color: #fff; /* 背景色，可根据需要调整 */
            padding: 10px; /* 内边距 */
            border-left: 1px solid #ddd; /* 左边框线 */
            border-right: 1px solid #ddd; /* 右边框线 */
        }

        .right-operation-area {
            flex: 1; /* 右边操作区域占据剩余空间的一部分 */
            background-color: #f4f4f4; /* 背景色，可根据需要调整 */
            padding: 10px; /* 内边距 */
        }

        .menu-list-left-area {
            list-style: none;
            padding: 0;
        }

        .menu-item-left-area {
            padding: 10px;
            cursor: pointer;
            color: #333; /* 默认颜色 */
        }

        .menu-item-left-area:hover {
            background-color: #a7a7af; /* 鼠标悬停时的颜色 */
        }

        .menu-item-left-area.active {
            color: #1DA1F2; /* 被选中的菜单项颜色 */
        }

        .content-in-middle-area {
            display: none; /* 默认隐藏所有内容 */
        }

        .content-in-middle-area.active {
            display: block; /* 显示激活的内容 */
        }

    </style>
</head>
<body>
<div class="container">

    <div class="left-menu-area">
        <img src="/assets/file/logo.png" style="width: 40px;height: 40px" alt="avatar">

        <ul class="menu-list-left-area">
            <li onclick="menuOnClicked.call(this)" class="menu-item-left-area active" data-content="middle-div-home">
                主页
            </li>
            <li onclick="menuOnClicked.call(this)" class="menu-item-left-area" data-content="middle-div-leaderboard">
                排行榜
            </li>
            <li onclick="menuOnClicked.call(this)" class="menu-item-left-area" data-content="middle-div-web3">Web3身份
            </li>
            <li onclick="menuOnClicked.call(this)" class="menu-item-left-area" data-content="middle-div-income">
                我的收入
            </li>
            <li onclick="menuOnClicked.call(this)" class="menu-item-left-area" data-content="middle-div-settings">设置
            </li>
            <li onclick="openKolKeyPage()" class="menu-item-left-area" data-content="middle-div-userKolKey">
                我的Key
            </li>
        </ul>
    </div>
    <div class="middle-content-area">
        <div id="middle-div-home" class="content-in-middle-area active">主页内容</div>
        <div id="middle-div-leaderboard" class="content-in-middle-area">排行榜内容</div>
        <div id="middle-div-web3" class="content-in-middle-area">Web3身份内容</div>
        <div id="middle-div-income" class="content-in-middle-area">我的收入内容</div>
        <div id="middle-div-settings" class="content-in-middle-area">设置内容</div>
        <div id="middle-div-userKolKey" class="content-in-middle-area">我的Key内容</div>
    </div>

    <div class="right-operation-area">
        <div id="web3-environment-operate-area" class="web3-environment-operate-area" style="display: block;background: #a7a7af">
            <button id="bridge-to-twitter" style="display: block" onclick="bindingTwitter()">绑定twitter</button>
            <button id="switch-to-arbitrum" style="display: block" onclick="switchToWorkChain()">切换到Arb网络</button>
        </div>
    </div>

</div>
<script>
    let ninjaUserObj = {{ .NinjaUsrInfoJson }};
    document.addEventListener("DOMContentLoaded", initMainPage);

    function initMainPage() {
        checkMetaMaskEnvironment();
    }

    function menuOnClicked() {
        document.querySelectorAll('.menu-item-left-area').forEach(i => i.classList.remove('active'));
        this.classList.add('active');

        const contentId = this.getAttribute('data-content');
        document.querySelectorAll('.content-in-middle-area').forEach(c => c.classList.remove('active'));

        document.getElementById(contentId).classList.add('active');
    }

    function openKolKeyPage() {
        window.location.href = "/kol_key";
    }
</script>
</body>
</html>